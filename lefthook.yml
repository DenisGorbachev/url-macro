assert_lefthook_installed: true
pre-commit:
  parallel: true
  commands:
    fix:
      run: mise run fix
      stage_fixed: true
      # `files` is needed for `stage_fixed` (by default, `stage_fixed` uses `{staged_files}`, but `mise run fix` may modify files which haven't been staged)
      files: git diff --name-only HEAD
    test:
      run: mise run test
